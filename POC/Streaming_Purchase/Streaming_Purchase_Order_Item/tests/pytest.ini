[tool:pytest]
# Test configuration for Purchase Order Item Pipeline
minversion = 7.0
addopts =
    -ra
    -q
    --strict-markers
    --strict-config
    --cov=class
    --cov=utility
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-fail-under=87

testpaths =
    tests

python_files =
    test_*.py
    simple_test_*.py
    cloud_test_*.py

python_classes =
    Test*

python_functions =
    test_*

markers =
    unit: Unit tests for individual components
    integration: Integration tests for end-to-end workflows
    performance: Performance and benchmark tests
    critical: Critical priority tests (95% coverage target)
    high: High priority tests (95% coverage target)
    medium: Medium priority tests (80% coverage target)
    low: Low priority tests (60% coverage target)
    slow: Tests that take more than 5 seconds
    azure: Tests requiring Azure resources
    databricks: Tests requiring Databricks environment
    dqx: Tests for DQX quality validation

filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning